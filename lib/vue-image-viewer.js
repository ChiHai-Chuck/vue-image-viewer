!function(e,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("vueImageViewer",[],i):"object"==typeof exports?exports.vueImageViewer=i():e.vueImageViewer=i()}(this,function(){return function(e){function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}var t={};return i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},i.p="/",i(i.s=2)}([function(e,i,t){function n(e){t(3)}var a=t(4)(t(1),t(5),n,null,null);e.exports=a.exports},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={name:"imageViewer",props:{visible:{type:Boolean,default:!1},index:{type:Number,default:0},page:{type:Number,default:0},images:{type:Array,default:[]}},data:function(){return{config:{imgMaxWidth:.8*window.innerWidth,imgMaxHeight:.8*window.innerHeight},imgStyle:{width:"auto",height:"auto"},imgVisible:!1,imgIndex:0,imgPage:0}},watch:{visible:function(){var e=this;this.images.length>0?(this.imgIndex=this.index,this.imgPage=this.page,setTimeout(function(){e.imgSize()})):this.$emit("close")},imgIndex:function(){var e=this;this.imgStyle={width:"auto",height:"auto"},this.imgVisible=!1,setTimeout(function(){e.imgSize()})}},methods:{imgSize:function(e,i){var t=document.querySelector(".image-viewer-content > img"),n=e||t.width,a=i||t.height,s=this.imgSizeAuto(n,a);s.width-10>this.config.imgMaxWidth||s.height-10>this.config.imgMaxHeight?this.imgSize(s.width,s.height):(this.imgStyle=s,this.imgVisible=!0)},imgSizeAuto:function(e,i){var t=0;return e>this.config.imgMaxWidth||i>this.config.imgMaxHeight?(t=e-this.config.imgMaxWidth>i-this.config.imgMaxHeight?this.config.imgMaxWidth/e:this.config.imgMaxHeight/i,{width:e*t,height:i*t}):{width:e,height:i}},imgChange:function(e){var i=this.images.length-1;"prev"===e?(this.imgIndex=this.imgIndex--<=0?0:this.imgIndex,this.imgIndex<8*this.imgPage&&this.imgPageChange("prev")):"next"===e?(this.imgIndex=this.imgIndex++>=i?i:this.imgIndex,this.imgIndex>=8*(this.imgPage+1)&&this.imgPageChange("next")):isNaN(e)||(this.imgIndex=e<=0?0:e>=i?i:e)},pageChange:function(e){var i=this.images.length-1;"prev"===e&&8*this.imgPage>=8?this.imgPage--:"next"===e&&8*this.imgPage<i&&i-8*this.imgPage>8&&this.imgPage++,document.querySelector(".image-viewer-nav-thumb > div:first-child").style.marginLeft=-document.querySelector(".image-viewer-nav-thumb").width*this.imgPage+"px"}}}},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(0),a=t.n(n);i.default=a.a},function(e,i){},function(e,i){e.exports=function(e,i,t,n,a){var s,g=e=e||{},r=typeof e.default;"object"!==r&&"function"!==r||(s=e,g=e.default);var o="function"==typeof g?g.options:g;i&&(o.render=i.render,o.staticRenderFns=i.staticRenderFns),n&&(o._scopeId=n);var m;if(a?(m=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},o._ssrRegister=m):t&&(m=t),m){var c=o.functional,h=c?o.render:o.beforeCreate;c?o.render=function(e,i){return m.call(i),h(e,i)}:o.beforeCreate=h?[].concat(h,m):[m]}return{esModule:s,exports:g,options:o}}},function(e,i){e.exports={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return e.visible?t("transition",{attrs:{name:"image-viewer-fade"}},[t("div",{staticClass:"image-viewer"},[t("i",{staticClass:"image-viewer-close image-viewer-icon-close",on:{click:function(i){e.$emit("close")}}}),e._v(" "),t("div",{staticClass:"image-viewer-content"},[t("img",{directives:[{name:"show",rawName:"v-show",value:e.imgVisible,expression:"imgVisible"}],attrs:{src:e.images[e.imgIndex].url,alt:e.images[e.imgIndex].name?e.images[e.imgIndex].name:"图片"+(e.imgIndex+1),width:e.imgStyle.width,height:e.imgStyle.height}}),e._v(" "),t("div",{staticClass:"image-viewer-info"},[t("p",[e._v(e._s(e.images[e.imgIndex].name?e.images[e.imgIndex].name:"图片"+(e.imgIndex+1))+"("+e._s(e.imgIndex+1+"/"+e.images.length)+")")]),e._v(" "),t("a",{attrs:{href:e.images[e.imgIndex].url,target:"_blank"}},[e._v("下载原图")])]),e._v(" "),t("div",{staticClass:"image-viewer-content-prev",on:{click:function(i){e.imgChange("prev")}}},[t("i",{staticClass:"image-viewer-icon-left"})]),e._v(" "),t("div",{staticClass:"image-viewer-content-next",on:{click:function(i){e.imgChange("next")}}},[t("i",{staticClass:"image-viewer-icon-right"})])]),e._v(" "),t("div",{staticClass:"image-viewer-nav"},[t("div",{staticClass:"image-viewer-nav-prev",on:{click:function(i){e.pageChange("prev")}}},[t("i",{staticClass:"image-viewer-icon-left"})]),e._v(" "),t("div",{staticClass:"image-viewer-nav-main"},[t("div",{staticClass:"image-viewer-nav-thumb"},e._l(e.images,function(i,n){return t("div",{class:{active:n==e.imgIndex},style:{backgroundImage:"url("+i.url+")"},attrs:{alt:i.name?i.name:"图片"+(n+1),title:i.name?i.name:"图片"+(n+1)},on:{click:function(i){e.imgChange(n)}}})}))]),e._v(" "),t("div",{staticClass:"image-viewer-nav-next",on:{click:function(i){e.pageChange("next")}}},[t("i",{staticClass:"image-viewer-icon-right"})])])])]):e._e()},staticRenderFns:[]}}])});
//# sourceMappingURL=vue-image-viewer.js.map